!function(){"use strict";function e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;const n=document.querySelector(e);n.style.display="block",n.classList.add("fadeInModal"),document.body.style.overflow="hidden",t&&clearInterval(t)}function t(e){const t=document.querySelector(e);t.classList.remove("fadeInModal"),t.classList.add("fadeOutModal"),setTimeout((()=>{t.style.display="none",t.classList.remove("fadeOutModal")}),700),document.body.style.overflow="auto"}document.addEventListener("DOMContentLoaded",(()=>{(function(){const e=document.querySelectorAll(".tabheader__item"),t=document.querySelectorAll(".tabcontent"),n=document.querySelector(".tabheader__items");function o(){e.forEach((e=>{e.classList.remove("tabheader__item_active")})),t.forEach((e=>{e.classList.remove("visible","fadeIn")}))}function c(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t[n].classList.add("visible","fadeIn"),e[n].classList.add("tabheader__item_active")}o(),c(),n.addEventListener("click",(t=>{if(t.target&&t.target.matches(".tabheader__item")){const n=t.target;e.forEach(((e,t)=>{n===e&&(o(),c(t))}))}}))})(),function(e){const t=document.querySelector(".promotion__descr"),n=new Date(e);function o(e){return e>=0&&e<10?"0"+e:e}t.innerHTML+=`Акция закончится ${n.getDate()} ${["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"][n.getMonth()]} в ${e.slice(-5)}`,function(e){const t=document.querySelector("#days"),n=document.querySelector("#hours"),c=document.querySelector("#minutes"),s=document.querySelector("#seconds"),a=setInterval(l,1e3);function l(){const l=function(e){const t=new Date(e)-new Date;return{time:t,days:Math.floor(t/1e3/60/60/24),hours:Math.floor(t/1e3/60/60%24),minutes:Math.floor(t/1e3/60%60),seconds:Math.floor(t/1e3%60)}}(e);t.textContent=o(l.days),n.textContent=o(l.hours),c.textContent=o(l.minutes),s.textContent=o(l.seconds),l.time<=1e3&&(clearInterval(a),t.textContent="00",n.textContent="00",c.textContent="00",s.textContent="00",document.querySelector(".promotion").style.display="none")}l()}(e)}("2022-03-01 00:00"),function(n,o){const c=document.querySelector(o);document.querySelectorAll(n).forEach((t=>{t.addEventListener("click",(()=>e(o,s)))})),c.addEventListener("click",(e=>{(e.target&&e.target.matches(o)||""==e.target.getAttribute("data-close"))&&t(o)})),document.addEventListener("keydown",(e=>{"Escape"===e.key&&"block"===c.style.display&&t(o)})),document.addEventListener("scroll",(function t(){document.documentElement.scrollHeight<=document.documentElement.clientHeight+document.documentElement.scrollTop&&(e(o,s),document.removeEventListener("scroll",t))}));const s=setTimeout((()=>{e(o,s)}),2e4)}("[data-modal]",".modal"),function(){class e{constructor(e,t,n,o,c,s){this.selector=e,this.img=t,this.alt=n,this.subtitle=o,this.descr=c,this.price=s}showCard(){const e=document.querySelector(this.selector),t=document.createElement("div");t.classList.add("menu__item"),t.innerHTML=`\n            <img src="${this.img}" alt="${this.alt}">\n            <h3 class="menu__item-subtitle">${this.subtitle}</h3>\n            <div class="menu__item-descr">${this.descr}</div>\n            <div class="menu__item-divider"></div>\n            <div class="menu__item-price">\n                <div class="menu__item-cost">Цена:</div>\n                <div class="menu__item-total"><span>${this.price}</span> руб/день</div>\n            </div>`,e.append(t)}}(async e=>{const t=await fetch(e);if(!t.ok)throw new Error(`Could not fetch ${e}, status: ${t.status}`);return await t.json()})("http://localhost:3000/menu").then((t=>{t.forEach((t=>{let{img:n,altimg:o,title:c,descr:s,price:a}=t;new e(".menu__field .container",n,o,c,s,a).showCard()}))}))}(),function(){function n(n){const o=document.querySelector(".modal__dialog");o.classList.add("fadeOutModal"),setTimeout((()=>{o.style.display="none",o.classList.remove("fadeOutModal"),e(".modal");const c=document.createElement("div");c.classList.add("modal__dialog","fadeInModal"),c.innerHTML=`\n                <div class="modal__content">\n                    <div class="modal__close" data-close>&times;</div>\n                    <div class="modal__title">${n}</div>\n                </div>\n            `,document.querySelector(".modal").append(c),setTimeout((()=>{setTimeout((()=>{c.remove(),o.style.display="block"}),600),t(".modal")}),4e3)}),700)}document.querySelectorAll("form").forEach((e=>{var t;(t=e).addEventListener("submit",(e=>{e.preventDefault();const o=document.createElement("img");o.src="icons/spinner.svg",o.style.cssText="display: block; margin: 20px auto;",t.insertAdjacentElement("afterend",o);const c=new FormData(t);(async(e,t)=>{const n=await fetch("http://localhost:3000/requests",{method:"POST",headers:{"Content-type":"application/json"},body:t});return await n.json()})(0,JSON.stringify(Object.fromEntries(c.entries()))).then((e=>{console.log(e),n("Спасибо! Скоро мы с вами свяжемся"),o.remove()})).catch((()=>{n("Что-то пошло не так")})).finally((()=>{t.reset()}))}))}))}(),function(){const e=document.querySelector(".offer__slider-prev"),t=document.querySelector(".offer__slider-next"),n=document.querySelector("#current"),o=document.querySelector("#total"),c=document.querySelectorAll(".offer__slide"),s=document.querySelector(".offer__slider-wrapper"),a=document.createElement("ul");a.classList.add("offer__slider-nav"),a.innerHTML="\n          <li></li>\n          <li></li>\n          <li></li>\n          <li></li>",s.insertAdjacentElement("afterend",a);const l=document.querySelectorAll(".offer__slider-nav li");function i(e){e<0&&(e=c.length-1),e>=c.length&&(e=0),s.style.left=-e*Number.parseInt(window.getComputedStyle(c[e]).width)+"px",n.textContent=r(e+1),o.textContent=r(c.length),l.forEach(((t,n)=>{n===e?(l[n].style.background="#54ed39",l[n].style.opacity="1"):(l[n].style.opacity="0.6",l[n].style.background="white")}))}function r(e){return e>=0&&e<10?"0"+e:e}i(0);const d=setInterval((function(){let e=+n.textContent;e=e>=c.length?0:e,n.classList.add("scaleNumber"),setTimeout((()=>{n.classList.remove("scaleNumber")}),200),i(e)}),4e3);t.addEventListener("click",(()=>{clearInterval(d),i(+n.textContent),n.classList.add("scaleNumber"),setTimeout((()=>{n.classList.remove("scaleNumber")}),200)})),e.addEventListener("click",(()=>{clearInterval(d),i(+n.textContent-2),n.classList.add("scaleNumber"),setTimeout((()=>{n.classList.remove("scaleNumber")}),200)})),l.forEach(((e,t)=>{e.addEventListener("click",(()=>{i(t)}))}))}(),function(){const e=document.querySelector(".calculating__result span");let t,n,o,c,s;function a(){t&&n&&o&&c&&s?(e.textContent="female"===t?Math.round((447.6+9.2*o+3.1*n-4.3*c)*s):Math.round((88.36+13.4*o+4.8*n-5.7*c)*s),e.textContent<=0&&(e.textContent="0")):e.textContent="0"}function l(e,n){const o=document.querySelectorAll(`${e} div`);document.querySelector(e).addEventListener("click",(c=>{c.target!=document.querySelector(e)&&(c.target.getAttribute("data-ratio")?s=+c.target.getAttribute("data-ratio"):t=c.target.getAttribute("data-sex"),o.forEach((e=>{e.classList.remove(n)})),c.target.classList.add(n)),a()}))}function i(e){const t=document.querySelector(e);t.addEventListener("input",(()=>{t.value.match(/\D/g)?t.style.border="2px solid red":t.style.border="none",c="age"===t.getAttribute("id")?+t.value:c,o="weight"===t.getAttribute("id")?+t.value:o,n="height"===t.getAttribute("id")?+t.value:n,a()}))}a(),l("#gender","calculating__choose-item_active"),l(".calculating__choose_big","calculating__choose-item_active"),i("#height"),i("#weight"),i("#age")}()}))}();
//# sourceMappingURL=bundle.js.map